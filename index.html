<!DOCTYPE html>
<html lang="ja-JP">
    <head>
        <title>speech recognition</title>
    </head>
    <body>
        <div id="current">
            <span></span>
        </div>
        <div id="return_list">
        </div>
    </body> 
    <script>
        var recognition = new webkitSpeechRecognition();
        recognition.lang = 'ja-JP';
        recognition.continuous = true;
        recognition.interimResults = true;

        console.log("start")
        recognition.start();
        recognition.onresult = function(ev) {
            console.log(ev.results[0][0].transcript);
            if (ev.results[0].isFinal) {
                console.log("final")
                console.log("restart");
                recognition.stop();
                recognition.start();
            }
        }
    </script>
</html>